<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ Happy New Year 2026 Wisher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            background: linear-gradient(-45deg, #1a1a2e, #16213e, #ff6b6b, #ffd700);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            height: 100vh;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: clamp(2.5rem, 8vw, 5rem);
            background: linear-gradient(45deg, #ffd700, #ff1493, #ffd700);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glow 2s ease-in-out infinite alternate;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px #ffd700); }
            to { filter: drop-shadow(0 0 40px #ff1493); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 30px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
            background: linear-gradient(45deg, #ffd700, #ff1493);
            color: #1a1a2e;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(255, 215, 0, 0.4);
        }

        .btn:active {
            transform: translateY(-1px) scale(1.02) rotate(1deg);
        }

        .countdown {
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: #ffd700;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            margin: 20px 0;
        }

        .wish-display {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            font-size: 1.2rem;
            color: #ffd700;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        .share-section {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .share-btn {
            flex: 1;
            min-width: 120px;
        }

        .hidden {
            display: none !important;
        }

        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: #ffd700;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 1000;
        }

        @media (max-width: 480px) {
            .glass-card {
                padding: 20px;
            }
            
            .share-section {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <button class="music-toggle" onclick="toggleMusic()" id="musicBtn">üîä</button>
    
    <canvas id="fireworksCanvas"></canvas>
    
    <div class="container">
        <h1>üéâ ‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ 2026 ‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï! üéâ</h1>
        
        <div id="countdownSection">
            <div class="countdown" id="countdown">Loading...</div>
        </div>

        <div class="glass-card">
            <div id="inputSection">
                <div class="input-group">
                    <input type="text" id="userName" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç... (Enter ‡§¶‡§¨‡§æ‡§è‡§Ç)" 
                           onkeypress="handleEnter(event)">
                </div>
                <button class="btn" onclick="generateLink()">‚ú® ‡§Æ‡•à‡§ú‡§ø‡§ï ‡§≤‡§ø‡§Ç‡§ï ‡§¨‡§®‡§æ‡§è‡§Ç</button>
            </div>

            <div id="resultSection" class="hidden">
                <div class="wish-display" id="randomWish">‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡§æ wish ‡§Ü‡§è‡§ó‡§æ...</div>
                <div class="input-group">
                    <input type="text" id="shareLink" readonly placeholder="‡§Ü‡§™‡§ï‡§æ ‡§∂‡•á‡§Ø‡§∞ ‡§≤‡§ø‡§Ç‡§ï ‡§Ø‡§π‡§æ‡§Å ‡§π‡•ã‡§ó‡§æ">
                </div>
                <div class="share-section">
                    <button class="btn share-btn" onclick="copyLink()">üìã ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç</button>
                    <a class="btn share-btn" id="whatsappBtn" target="_blank">üí¨ WhatsApp</a>
                </div>
                <button class="btn" onclick="newWish()">‚û°Ô∏è ‡§®‡§Ø‡§æ Wish ‡§≠‡•á‡§ú‡•á‡§Ç</button>
            </div>
        </div>
    </div>

    <script>
        // Music using Web Audio API
        let audioContext, isPlaying = false;
        const melody = [
            {freq: 392, duration: 0.3}, // G
            {freq: 392, duration: 0.3},
            {freq: 392, duration: 0.3},
            {freq: 392, duration: 0.3},
            {freq: 392, duration: 0.3},
            {freq: 493.88, duration: 0.4}, // B
            {freq: 349.23, duration: 0.8}, // F
            {freq: 349.23, duration: 0.3},
            {freq: 349.23, duration: 0.3},
            {freq: 349.23, duration: 0.3},
            {freq: 523.25, duration: 0.5} // C
        ];

        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playNote(freq, duration) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = freq;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playMelody() {
            if (!audioContext) initAudio();
            melody.forEach((note, index) => {
                setTimeout(() => playNote(note.freq, note.duration), index * 200);
            });
            setTimeout(playMelody, melody.length * 200);
        }

        function toggleMusic() {
            if (!isPlaying) {
                initAudio();
                playMelody();
                isPlaying = true;
                document.getElementById('musicBtn').textContent = 'üîá';
            } else {
                isPlaying = false;
                document.getElementById('musicBtn').textContent = 'üîä';
            }
        }

        // Fireworks Animation
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let fireworks = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        class Firework {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.particles = [];
                this.exploded = false;
                for (let i = 0; i < 50; i++) {
                    this.particles.push({
                        x: x,
                        y: y,
                        vx: (Math.random() - 0.5) * 10,
                        vy: (Math.random() - 0.5) * 10,
                        color: `hsl(${Math.random() * 60 + 10}, 100%, 60%)`,
                        life: 100,
                        decay: Math.random() * 0.02 + 0.01
                    });
                }
            }

            update() {
                if (!this.exploded) {
                    this.exploded = true;
                    playFireworkSound();
                }
                
                this.particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.1;
                    p.life -= p.decay;
                });
                return this.particles.some(p => p.life > 0);
            }

            draw() {
                this.particles.forEach(p => {
                    ctx.save();
                    ctx.globalAlpha = p.life / 100;
                    ctx.fillStyle = p.color;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                });
            }
        }

        function playFireworkSound() {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.2);
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        function animateFireworks() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            fireworks = fireworks.filter(fw => fw.update());
            fw.draw();
            
            if (Math.random() < 0.1) {
                fireworks.push(new Firework(Math.random() * canvas.width, canvas.height));
            }
            
            requestAnimationFrame(animateFireworks);
        }

        // Countdown Timer
        function updateCountdown() {
            const now = new Date();
            const target = new Date('2027-01-01T00:00:00 IST');
            const diff = target - now;
            
            if (diff > 0) {
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').textContent = 
                    `${days}‡§¶‡§ø‡§® ${hours}‡§ò‡§Ç‡§ü‡•á ${minutes}‡§Æ‡§ø‡§®‡§ü ${seconds}‡§∏‡•á‡§ï‡§Ç‡§°`;
            } else {
                document.getElementById('countdown').textContent = 'üéâ ‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§Ü ‡§ó‡§Ø‡§æ! üéâ';
            }
        }

        // Wishes Array
        const wishes = [
            "‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï ‡§π‡•ã! ‡§®‡§à ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶‡•á‡§Ç, ‡§®‡§à ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Å ‡§≤‡§æ‡§è!",
            "Happy New Year! ‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡•ã ‡§∞‡§Ç‡§ó‡•Ä‡§® ‡§¨‡§®‡§æ‡§è!",
            "‡§∂‡•Å‡§≠ ‡§®‡§Ø ‡§µ‡§∞‡•ç‡§∑! ‡§∏‡§´‡§≤‡§§‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡•Ä ‡§¨‡§ß‡§æ‡§à!",
            "‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§®‡§à ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§! ‡§¢‡•á‡§∞ ‡§∏‡§æ‡§∞‡•Ä ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Å!",
            "üéâ 2026 ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§∏‡§æ‡§≤ ‡§¨‡§®‡•á!",
            "‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§≠‡§∞‡§æ ‡§π‡•ã! ‡§®‡§à ‡§ä‡§Å‡§ö‡§æ‡§á‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§õ‡•Å‡§ì!",
            "Happy New Year! ‡§∏‡§™‡§®‡•á ‡§∏‡§ö ‡§π‡•ã‡§Ç, ‡§á‡§ö‡•ç‡§õ‡§æ‡§è‡§Å ‡§™‡•Ç‡§∞‡•Ä ‡§π‡•ã‡§Ç!",
            "‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å! ‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§ß‡§Æ‡§æ‡§ï‡•á‡§¶‡§æ‡§∞ ‡§π‡•ã!",
            "‡§®‡§Ø‡§æ ‡§∏‡§æ‡§≤ ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§¨‡•å‡§õ‡§æ‡§∞ ‡§ï‡§∞‡•á!",
            "2026 ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§≤ ‡§π‡•à! ‡§ú‡•Ä‡§§ ‡§ï‡§æ ‡§ú‡§∂‡•ç‡§® ‡§Æ‡§®‡§æ‡§ì!"
        ];

        function getRandomWish() {
            return wishes[Math.floor(Math.random() * wishes.length)];
        }

        // Magic Link System
        function generateId() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function generateLink() {
            const name = document.getElementById('userName').value.trim();
            if (!name) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç!');
                return;
            }

            const id = generateId();
            const url = `${window.location.href.split('?')[0]}?sender=${encodeURIComponent(name)}&id=${id}`;
            
            document.getElementById('shareLink').value = url;
            document.getElementById('randomWish').textContent = getRandomWish();
            document.getElementById('inputSection').classList.add('hidden');
            document.getElementById('resultSection').classList.remove('hidden');
            
            updateWhatsAppBtn(name);
            localStorage.setItem('lastWish', JSON.stringify({name, id, url}));
        }

        function updateWhatsAppBtn(senderName) {
            const msg = encodeURIComponent(`üéâ ${senderName} ‡§®‡•á ‡§Ü‡§™‡§ï‡•ã Happy New Year 2026 ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å ‡§¶‡•Ä ‡§π‡•à‡§Ç! üéâ

${getRandomWish()}

‡§Ü‡§™ ‡§≠‡•Ä ‡§Ö‡§™‡§®‡•á ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§≠‡•á‡§ú‡•á‡§Ç: ${document.getElementById('shareLink').value}`);
            document.getElementById('whatsappBtn').href = `https://wa.me/?text=${msg}`;
        }

        function copyLink() {
            const link = document.getElementById('shareLink');
            link.select();
            document.execCommand('copy');
            
            const original = link.value;
            link.value = '‚úÖ ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!';
            setTimeout(() => link.value = original, 2000);
        }

        function newWish() {
            document.getElementById('inputSection').classList.remove('hidden');
            document.getElementById('resultSection').classList.add('hidden');
            document.getElementById('userName').value = '';
            document.getElementById('userName').focus();
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                generateLink();
            }
        }

        // Load from URL params
        function loadFromParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const sender = urlParams.get('sender');
            const id = urlParams.get('id');
            
            if (sender) {
                document.getElementById('userName').value = sender;
                setTimeout(() => {
                    document.getElementById('randomWish').textContent = getRandomWish();
                    document.getElementById('inputSection').classList.add('hidden');
                    document.getElementById('resultSection').classList.remove('hidden');
                    updateWhatsAppBtn(sender);
                }, 1000);
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            animateFireworks();
            setInterval(updateCountdown, 1000);
            updateCountdown();
            loadFromParams();
            document.getElementById('userName').focus();
            
            // Auto start music after user interaction
            document.addEventListener('click', () => {
                if (!isPlaying) toggleMusic();
            }, { once: true });
        });
    </script>
</body>
                    </html>
